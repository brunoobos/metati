<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meta TI - Sistema de Estudos</title>
    <style>
        * { 
            box-sizing: border-box;
        }
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
        }
        
        /* Menu Superior */
        .top-menu {
            background-color: #2c3e50;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .logo {
            color: white;
            font-weight: bold;
            font-size: 1.5em;
            text-decoration: none;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        
        .nav-links li {
            position: relative;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 20px 15px;
            display: block;
            transition: background-color 0.3s;
        }
        
        .nav-links a:hover {
            background-color: #34495e;
        }
        
        .dropdown {
            position: relative;
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 200px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            z-index: 1;
        }
        
        .dropdown-content a {
            color: #333;
            padding: 12px 16px;
        }
        
        .dropdown-content a:hover {
            background-color: #ddd;
        }
        
        .dropdown:hover .dropdown-content {
            display: block;
        }
        
        .menu-toggle {
            display: none;
            color: white;
            font-size: 1.5em;
            cursor: pointer;
            padding: 15px;
        }
        
        header {
            background-color: #3498db;
            color: white;
            text-align: center;
            padding: 30px 0;
            position: relative;
        }
        
        h1 {
            margin: 0;
            font-size: 2em;
        }
        
        .progress-summary {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 15px;
            margin: 20px auto;
            max-width: 1200px;
            text-align: center;
        }
        
        .progress-bar {
            height: 20px;
            background-color: #ecf0f1;
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: #2ecc71;
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        
        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
        }
        
        .states-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            margin: 30px auto;
            padding: 20px;
            max-width: 1200px;
        }
        
        .state-btn {
            padding: 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-size: 0.9em;
            width: 250px;
        }
        
        .state-btn:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .state-info {
            display: none;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 25px;
            margin-top: 20px;
        }
        
        .state-info h2 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-top: 0;
        }
        
        .category {
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            background-color: #f9f9f9;
        }
        
        .category h3 {
            color: #3498db;
            margin-bottom: 10px;
            font-size: 1.2em;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .category-progress {
            font-size: 0.8em;
            color: #7f8c8d;
        }
        
        .content-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 4px;
            background-color: white;
            transition: all 0.3s;
        }
        
        .content-item:hover {
            background-color: #f0f0f0;
        }
        
        .content-item.completed {
            background-color: #e8f6ef;
            border-left: 4px solid #2ecc71;
        }
        
        .content-checkbox {
            margin-right: 10px;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        .content-text {
            flex: 1;
        }
        
        .content-actions {
            display: flex;
            gap: 5px;
            margin-left: 10px;
        }
        
        .content-link {
            padding: 5px 10px;
            background-color: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-size: 0.8em;
            transition: background-color 0.3s;
            white-space: nowrap;
        }
        
        .content-link:hover {
            background-color: #2980b9;
        }
        
        .edit-link-btn {
            padding: 5px 8px;
            background-color: #f39c12;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 0.8em;
            cursor: pointer;
            transition: background-color 0.3s;
            white-space: nowrap;
        }
        
        .edit-link-btn:hover {
            background-color: #e67e22;
        }
        
        .add-link-btn {
            padding: 5px 10px;
            background-color: #95a5a6;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 0.8em;
            cursor: pointer;
            transition: background-color 0.3s;
            white-space: nowrap;
        }
        
        .add-link-btn:hover {
            background-color: #7f8c8d;
        }
        
        .link-input-container {
            display: none;
            margin-top: 5px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 4px;
            border: 1px solid #e0e0e0;
            grid-column: 1 / -1;
        }
        
        .link-input {
            width: 100%;
            padding: 8px;
            margin-bottom: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 0.9em;
        }
        
        .link-actions {
            display: flex;
            gap: 5px;
        }
        
        .link-save, .link-cancel, .link-remove {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
        }
        
        .link-save {
            background-color: #2ecc71;
            color: white;
        }
        
        .link-cancel {
            background-color: #e74c3c;
            color: white;
        }
        
        .link-remove {
            background-color: #e74c3c;
            color: white;
        }
        
        .state-categories {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }
        
        footer {
            background-color: #2c3e50;
            color: white;
            text-align: center;
            padding: 20px 0;
            margin-top: 40px;
        }
        
        .search-container {
            margin: 20px 0;
            text-align: center;
        }
        
        .search-input {
            padding: 10px 15px;
            width: 300px;
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1em;
        }
        
        .search-filters {
            margin-top: 10px;
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .filter-option {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
        }
        
        .filter-btn {
            padding: 8px 15px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .filter-btn:hover {
            background-color: #2980b9;
        }
        
        .filter-btn.active {
            background-color: #2c3e50;
        }
        
        .sync-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 0.8em;
            z-index: 1000;
        }
        
        .sync-status.online {
            background-color: #2ecc71;
            color: white;
        }
        
        .sync-status.offline {
            background-color: #e74c3c;
            color: white;
        }
        
        .sync-btn {
            position: fixed;
            bottom: 60px;
            right: 20px;
            padding: 8px 12px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
            z-index: 1000;
        }
        
        /* Novos estilos para o ciclo de estudos */
        .study-cycle-container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            margin: 20px 0;
        }
        
        .study-cycle-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }
        
        .study-cycle-title {
            color: #2c3e50;
            margin: 0;
            font-size: 1.5em;
        }
        
        .study-cycle-controls {
            display: flex;
            gap: 10px;
        }
        
        .cycle-btn {
            padding: 8px 15px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 0.9em;
        }
        
        .cycle-btn:hover {
            background-color: #2980b9;
        }
        
        .cycle-btn.reset {
            background-color: #e74c3c;
        }
        
        .cycle-btn.reset:hover {
            background-color: #c0392b;
        }
        
        .discipline-selection {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border: 2px solid #3498db;
        }
        
        .discipline-selection h4 {
            margin-top: 0;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .discipline-checkboxes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }
        
        .discipline-option {
            display: flex;
            align-items: center;
            padding: 8px;
            background-color: white;
            border-radius: 4px;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .discipline-option:hover {
            background-color: #f0f0f0;
        }
        
        .discipline-option input {
            margin-right: 8px;
        }
        
        .current-day-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .current-discipline {
            font-size: 1.8em;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .day-info {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .cycle-stats {
            display: flex;
            justify-content: space-around;
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #3498db;
        }
        
        .stat-label {
            font-size: 0.8em;
            color: #7f8c8d;
        }
        
        .cycle-progress {
            margin-top: 15px;
        }
        
        .cycle-progress-bar {
            height: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .cycle-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #2ecc71, #27ae60);
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        
        .completion-message {
            text-align: center;
            padding: 20px;
            background-color: #e8f6ef;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
        }
        
        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }
            
            .nav-links {
                display: none;
                flex-direction: column;
                width: 100%;
                position: absolute;
                top: 60px;
                left: 0;
                background-color: #2c3e50;
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .nav-links li {
                text-align: center;
            }
            
            .dropdown-content {
                position: static;
                box-shadow: none;
            }
            
            .states-container {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .state-categories {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
                gap: 10px;
            }
            
            .content-item {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .content-actions {
                margin-left: 0;
                margin-top: 5px;
                width: 100%;
                justify-content: flex-start;
            }
            
            .content-link, .edit-link-btn, .add-link-btn {
                flex: 1;
                text-align: center;
            }
            
            .sync-status, .sync-btn {
                bottom: 10px;
                right: 10px;
            }
            
            .sync-btn {
                bottom: 50px;
            }
            
            .discipline-checkboxes {
                grid-template-columns: 1fr;
            }
            
            .cycle-stats {
                flex-direction: column;
                gap: 10px;
            }
            
            .study-cycle-controls {
                flex-direction: column;
                gap: 10px;
            }
            
            .cycle-btn {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="top-menu">
        <a href="#" class="logo">Concursos TI</a>
        <div class="menu-toggle">‚ò∞</div>
        <ul class="nav-links">
            <li><a href="#">In√≠cio</a></li>
            <li><a href="#progresso">Meu Progresso</a></li>
            <li><a href="#disciplinas">Disciplinas</a></li>
            <li><a href="#ciclo">Ciclo de Estudos</a></li>
        </ul>
    </div>
    
    <header>
        <h1>Meta TI</h1>
        <p>Prepara√ß√£o para concursos p√∫blicos na √°rea de Tecnologia da Informa√ß√£o</p>
    </header>

    <div class="progress-summary">
        <h3>Meu Progresso Geral</h3>
        <div class="progress-bar">
            <div class="progress-fill" id="overallProgress" style="width: 0%"></div>
        </div>
        <p id="progressText">0% conclu√≠do</p>
    </div>

    <div class="container">
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Pesquisar √≥rg√£os, disciplinas ou conte√∫dos...">
            <div class="search-filters">
                <div class="filter-option">
                    <input type="radio" id="filter-all" name="search-filter" value="all" checked>
                    <label for="filter-all">Todos</label>
                </div>
                <div class="filter-option">
                    <input type="radio" id="filter-orgao" name="search-filter" value="orgao">
                    <label for="filter-orgao">√ìrg√£os</label>
                </div>
                <div class="filter-option">
                    <input type="radio" id="filter-disciplina" name="search-filter" value="disciplina">
                    <label for="filter-disciplina">Disciplinas</label>
                </div>
                <div class="filter-option">
                    <input type="radio" id="filter-conteudo" name="search-filter" value="conteudo">
                    <label for="filter-conteudo">Conte√∫dos</label>
                </div>
            </div>
        </div>
        
        <!-- Ciclo de Estudos Redondo -->
        <div class="study-cycle-container" id="studyCycleContainer" style="display: none;">
            <div class="study-cycle-header">
                <h3 class="study-cycle-title">Ciclo de Estudos</h3>
                <div class="study-cycle-controls">
                    <button class="cycle-btn" id="prevDayBtn">‚Üê Dia Anterior</button>
                    <button class="cycle-btn" id="markCompleteBtn">‚úì Marcar como Conclu√≠do</button>
                    <button class="cycle-btn reset" id="resetCycleBtn">Reiniciar Ciclo</button>
                </div>
            </div>
            
            <!-- Se√ß√£o para escolher disciplinas -->
            <div class="discipline-selection" id="disciplineSelection" style="display: none;">
                <h4>Escolha as disciplinas para o ciclo:</h4>
                <div class="discipline-checkboxes">
                    <label class="discipline-option">
                        <input type="checkbox" value="gestaoTI" checked> GEST√ÉO DE TI
                    </label>
                    <label class="discipline-option">
                        <input type="checkbox" value="contratacaoTI" checked> CONTRATA√á√ïES DE TI
                    </label>
                    <label class="discipline-option">
                        <input type="checkbox" value="inteligenciaArtificial" checked> INTELIG√äNCIA ARTIFICIAL
                    </label>
                    <label class="discipline-option">
                        <input type="checkbox" value="computacaoNuvem" checked> COMPUTA√á√ÉO EM NUVEM
                    </label>
                    <label class="discipline-option">
                        <input type="checkbox" value="segurancaInformacao" checked> SEGURAN√áA DA INFORMA√á√ÉO
                    </label>
                    <label class="discipline-option">
                        <input type="checkbox" value="engenhariaSoftware" checked> ENGENHARIA DE SOFTWARE
                    </label>
                    <label class="discipline-option">
                        <input type="checkbox" value="engenhariaDados" checked> ENGENHARIA DE DADOS
                    </label>
                    <label class="discipline-option">
                        <input type="checkbox" value="infraestruturaTI" checked> INFRAESTRUTURA DE TI
                    </label>
                </div>
                <button class="cycle-btn" id="confirmDisciplinesBtn" style="margin-top: 15px;">Confirmar Disciplinas</button>
            </div>
            
            <div class="current-day-card" id="currentDayCard" style="display: none;">
                <div class="day-info">Dia <span id="currentDayNumber">1</span> de <span id="totalDays">7</span></div>
                <div class="current-discipline" id="currentDisciplineName">Disciplina</div>
                <div class="day-info" id="cycleDate">Data do ciclo</div>
            </div>
            
            <div class="cycle-stats">
                <div class="stat-item">
                    <div class="stat-value" id="completedDays">0</div>
                    <div class="stat-label">Dias Conclu√≠dos</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="cycleRound">1</div>
                    <div class="stat-label">Rodada</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="totalCompleted">0</div>
                    <div class="stat-label">Total Conclu√≠do</div>
                </div>
            </div>
            
            <div class="completion-message" id="completionMessage">
                <h4>üéâ Parab√©ns! Voc√™ completou uma rodada do ciclo!</h4>
                <p>Continue assim! O ciclo reiniciou automaticamente.</p>
            </div>
            
            <div class="cycle-progress">
                <div class="cycle-progress-bar">
                    <div class="cycle-progress-fill" id="cycleProgressFill" style="width: 0%"></div>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.8em; color: #7f8c8d;">
                    <span>Progresso do Ciclo</span>
                    <span id="cycleProgressText">0%</span>
                </div>
            </div>
        </div>
        
        <div class="states-container">
            <button class="state-btn" data-state="TCU">TCU</button>
            <button class="state-btn" data-state="TCE_RJ">TCE RJ</button>
            <button class="state-btn" data-state="TCE_SC">TCE SC</button>
        </div>
        
        <div id="stateInfo" class="state-info">
            <h2 id="stateName">√ìrg√£o</h2>
            <div class="controls">
                <button class="filter-btn active" data-filter="all">Todos</button>
                <button class="filter-btn" data-filter="pending">Pendentes</button>
                <button class="filter-btn" data-filter="completed">Conclu√≠dos</button>
                <button class="filter-btn" id="startCycleBtn" style="background-color: #9b59b6;">Iniciar Ciclo</button>
            </div>
            
            <div class="state-categories">
                <div class="category" data-disciplina="GEST√ÉO DE TI">
                    <h3>GEST√ÉO DE TI <span class="category-progress" id="gestaoTIProgress">0/0</span></h3>
                    <div class="links" id="gestaoTILinks"></div>
                </div>
                
                <div class="category" data-disciplina="CONTRATA√á√ïES DE TI">
                    <h3>CONTRATA√á√ïES DE TI <span class="category-progress" id="contratacaoTIProgress">0/0</span></h3>
                    <div class="links" id="contratacaoTILinks"></div>
                </div>
                
                <div class="category" data-disciplina="INTELIG√äNCIA ARTIFICIAL">
                    <h3>INTELIG√äNCIA ARTIFICIAL <span class="category-progress" id="inteligenciaArtificialProgress">0/0</span></h3>
                    <div class="links" id="inteligenciaArtificialLinks"></div>
                </div>
                
                <div class="category" data-disciplina="COMPUTA√á√ÉO EM NUVEM">
                    <h3>COMPUTA√á√ÉO EM NUVEM <span class="category-progress" id="computacaoNuvemProgress">0/0</span></h3>
                    <div class="links" id="computacaoNuvemLinks"></div>
                </div>

                <div class="category" data-disciplina="SEGURAN√áA DA INFORMA√á√ÉO">
                    <h3>SEGURAN√áA DA INFORMA√á√ÉO <span class="category-progress" id="segurancaInformacaoProgress">0/0</span></h3>
                    <div class="links" id="segurancaInformacaoLinks"></div>
                </div>
                
                <div class="category" data-disciplina="ENGENHARIA DE SOFTWARE">
                    <h3>ENGENHARIA DE SOFTWARE <span class="category-progress" id="engenhariaSoftwareProgress">0/0</span></h3>
                    <div class="links" id="engenhariaSoftwareLinks"></div>
                </div>
                
                <div class="category" data-disciplina="ENGENHARIA DE DADOS">
                    <h3>ENGENHARIA DE DADOS <span class="category-progress" id="engenhariaDadosProgress">0/0</span></h3>
                    <div class="links" id="engenhariaDadosLinks"></div>
                </div>
                
                <div class="category" data-disciplina="INFRAESTRUTURA DE TI">
                    <h3>INFRAESTRUTURA DE TI <span class="category-progress" id="infraestruturaTIProgress">0/0</span></h3>
                    <div class="links" id="infraestruturaTILinks"></div>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Atualizado em <span id="updateDate"></span> | Meta TI - Prepara√ß√£o para Concursos</p>
        <p>¬© 2025 Meta TI - Todos os direitos reservados</p>
    </footer>

    <button class="sync-btn" id="syncButton">üîÑ Sincronizar</button>
    <div class="sync-status offline" id="syncStatus">Offline</div>

    <script>
        // Configura√ß√£o do Google Apps Script
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxMYxUEqiFbclyT1in7J6Ts87U0o2PjgZW6SN1Yw7xFO0jgS07l89xbrguYTt_frMW-/exec';
        
        // Data de atualiza√ß√£o
        document.getElementById('updateDate').textContent = new Date().toLocaleDateString('pt-BR');
        
        // Menu responsivo
        document.querySelector('.menu-toggle').addEventListener('click', function() {
            document.querySelector('.nav-links').classList.toggle('active');
        });
        
        // Dados atualizados com disciplinas de TI
        const stateLinks = {
            'TCU': {
                gestaoTI: [
                    { text: '1 Gerenciamento de servi√ßos (ITIL v4): conceitos b√°sicos, estrutura e objetivos' },
                    { text: '2 Governan√ßa de TI (COBIT 5): conceitos b√°sicos, estrutura e objetivos' },
                    { text: '3 Metodologias √°geis: Scrum, XP, Kanban, TDD, BDD e DDD' }
                ],
                contratacaoTI: [
                    { text: '1 Etapas da Contrata√ß√£o de Solu√ß√µes de TI. Estudo t√©cnico preliminar (ETP). Termo de Refer√™ncia (TR) e Projeto B√°sico' },
                    { text: '2 Tipos de Solu√ß√µes e Modelos de Servi√ßo. Contrata√ß√£o de software sob demanda, licenciamento, SaaS, IaaS, PaaS. F√°brica de software e sustenta√ß√£o de sistemas. Servi√ßos de infraestrutura em nuvem e data center. Servi√ßos gerenciados de TI e outsourcing' },
                    { text: '3 Governan√ßa, Fiscaliza√ß√£o e Gest√£o de Contratos. Pap√©is e responsabilidades: gestor, fiscal t√©cnico, fiscal administrativo. Indicadores de n√≠vel de servi√ßo (SLAs) e penalidades. Gest√£o de mudan√ßas contratuais e reequil√≠brio econ√¥mico-financeiro.' },
                    { text: '4 Riscos e Controles em Contrata√ß√µes. Identifica√ß√£o, an√°lise e resposta a riscos em contratos de TI. Controles internos aplic√°veis √†s contrata√ß√µes p√∫blicas. Auditoria e responsabiliza√ß√£o (jur√≠dica e administrativa)' },
                    { text: '5 Aspectos T√©cnicos e Estrat√©gicos. Integra√ß√£o com o PDTIC e alinhamento com a estrat√©gia institucional. Mapeamento e defini√ß√£o de requisitos t√©cnicos e n√£o funcionais. Sustentabilidade, acessibilidade e seguran√ßa da informa√ß√£o nos contratos' },
                    { text: '6 Legisla√ß√£o e Normativos Aplic√°veis. Lei n¬∫ 14.133/2021, Decreto n¬∫ 10.540/2020, Lei n¬∫ 13.709/2018 ‚Äì LGPD (impactos em contratos de TI). Instru√ß√µes Normativas da Administra√ß√£o P√∫blica. IN SGD/ME n¬∫ 01/2019 ‚Äì Planejamento das contrata√ß√µes de solu√ß√µes de TI. IN SGD/ME n¬∫ 94/2022 ‚Äì Governan√ßa, Gest√£o e Fiscaliza√ß√£o de Contratos de TI. IN SGD/ME n¬∫ 65/2021 ‚Äì Gest√£o de riscos em contrata√ß√µes de TI.' }
                ],
                inteligenciaArtificial: [
                    { text: '1 Aprendizado de M√°quina: supervisionado, n√£o supervisionado, semi-supervisionado, aprendizado por refor√ßo, an√°lise preditiva.' },
                    { text: '2 Redes Neurais e Deep Learning. Arquiteturas de redes neurais, Frameworks, t√©cnicas de treinamento e aplica√ß√µes' },
                    { text: '3 Processamento de linguagem natural. Modelos, pr√©-processamento, agentes inteligentes e sistemas multiagentes.' },
                    { text: '4 Intelig√™ncia Artificial Generativa' },
                    { text: '5 Arquitetura e engenharia de sistemas de IA. MLOps. Deploy de modelos. Integra√ß√£o com computa√ß√£o em nuvem' },
                    { text: '6 √âtica, Transpar√™ncia e Responsabilidade em IA. Explicabilidade e interpretabilidade de modelos. Vi√©s algor√≠tmico e discrimina√ß√£o. LGPD e impactos regulat√≥rios da IA. Princ√≠pios √©ticos para uso de IA.' }
                ],
                computacaoNuvem: [
                    { text: '1 Fundamentos de Computa√ß√£o em Nuvem. Modelos de servi√ßo: IaaS, PaaS, SaaS. Modelos de implanta√ß√£o: nuvem p√∫blica, privada, h√≠brida. Arquitetura orientada a servi√ßos (SOA) e microsservi√ßos. Elasticidade, escalabilidade e alta disponibilidade' },
                    { text: '2 Plataformas e Servi√ßos de Nuvem: AWS, Microsoft Azure e Google Cloud Platform.' },
                    { text: '3 Arquitetura de Solu√ß√µes em Nuvem. Design de sistemas distribu√≠dos resilientes. Arquiteturas serverless e event-driven. Balanceamento de carga e auto escalonamento. Containers e orquestra√ß√£o (Docker, Kubernetes)' },
                    { text: '4 Redes e Seguran√ßa em Nuvem. VPNs, sub-redes, gateways e grupos de seguran√ßa. Gest√£o de identidade e acesso (IAM, RBAC, MFA). Criptografia em tr√¢nsito e em repouso (TLS, KMS). Zero Trust Architecture em ambientes de nuvem. VPNs site-to-site, Direct Connect, ExpressRoute' },
                    { text: '5 DevOps, CI/CD e Infraestrutura como C√≥digo (IaC). Ferrramentas: Terraform. Pipelines de integra√ß√£o e entrega cont√≠nua (Jenkins, GitHub Actions). Observabilidade: monitoramento, logging, tracing (CloudWatch, Azure Monitor, GCloud Monitoring).' },
                    { text: '6 Governan√ßa, Compliance e Custos. Gerenciamento de custos e otimiza√ß√£o de recursos. Pol√≠ticas de uso e governan√ßa em nuvem (tagueamento, cotas, limites). Conformidade com normas e padr√µes (ISO/IEC 27001, NIST 800-53, LGPD). FinOps' },
                    { text: '7 Armazenamento e Processamento de Dados. Tipos de armazenamento: objetos, blocos, arquivos. Data Lakes e processamento distribu√≠do. Integra√ß√£o com Big Data e A' },
                    { text: '8 Migra√ß√£o e Moderniza√ß√£o de Aplica√ß√µes. Estrat√©gias de migra√ß√£o. Ferramentas de migra√ß√£o (AWS Migration Hub, Azure Migrate, GCloud Migration Center).' },
                    { text: '9 Multicloud. Arquiteturas multicloud e h√≠bridas; Nuvem soberana e soberania de dados' },
                    { text: '10 Normas sobre computa√ß√£o em nuvem no governo federal.' }
                ],
                segurancaInformacao: [
                    { text: '1 Gest√£o de Identidades e Acesso. Autentica√ß√£o e Autoriza√ß√£o, Single Sign-On (SSO), Security Assertion Markup Language (SAML), OAuth2 e OpenId Connect' },
                    { text: '2 Privacidade e seguran√ßa por padr√£o.' },
                    { text: '3 Malware. virus, keylogger, trojan, spyware, backdoor, worms, rootkit, adware, fileless, ransomware.' },
                    { text: '4 Controles e testes de seguran√ßa para aplica√ß√µes Web e Web Services.' },
                    { text: '5 M√∫ltiplos Fatores de Autentica√ß√£o (MFA)' },
                    { text: '6 Solu√ß√µes para Seguran√ßa da Informa√ß√£o. Firewall, Intrusion Detection System (IDS), Intrusion Prevention System (IPS), Security Information and Event Management (SIEM), Proxy, Identity Access Management (IAM), Privileged Access Management (PAM), Antiv√≠rus, Antispam.' },
                    { text: '7 Frameworks de seguran√ßa da informa√ß√£o e seguran√ßa cibern√©tica. MITRE ATT&CK, CIS Controls e NIST CyberSecurity Framework (NIST CSF)' },
                    { text: '8 Tratamento de Incidentes Cibern√©ticos' },
                    { text: '9 Assinatura e certifica√ß√£o digital, criptografia e prote√ß√£o de dados em tr√¢nsito e em repouso' },
                    { text: '10 Seguran√ßa em nuvens e de cont√™ineres' },
                    { text: '11 Ataques a redes de computadores. DoS, DDoS, botnets, phishing, zero-day exploits, ping da morte, UDP Flood, MAC flooding, IP spoofing, ARP spoofing, buffer overflow, SQL injection, Cross-Site Scripting (XSS), DNS Poisoning.' }
                ],
                engenhariaSoftware: [
                    { text: '1 Arquitetura de Software. Padr√µes arquiteturais. Monolito. Microservi√ßos, Serverless. Arquitetura orientada √† eventos e mensageria. Padr√µes de integra√ß√£o (API Gateway, Service Mesh, CQRS). ' },
                    { text: '2 Design e Programa√ß√£o. Padr√µes de projeto (GoF e Grasp). Concorr√™ncia, paralelismo, multithreading e programa√ß√£o ass√≠ncrona.' },
                    { text: '3 APIs e Integra√ß√µes. Design e versionamento de APIs RESTful. Boas pr√°ticas de autentica√ß√£o/autoriza√ß√£o (OAuth2, JWT, OpenID Connect).' },
                    { text: '4 Persist√™ncia de Dados. Modelagem relacional e normaliza√ß√£o. Bancos NoSQL (MongoDB e ElasticSearch). Versionamento e migra√ß√£o de esquemas.' },
                    { text: '5 DevOps e Integra√ß√£o Cont√≠nua. Pipelines of CI/CD (GitHub Actions). Build, testes e deploy automatizados. Docker e orquestra√ß√£o com Kubernetes. Monitoramento e observabilidade: Grafana e New Relic.' },
                    { text: '6 Testes e Qualidade de C√≥digo. Testes automatizados: unit√°rios, integra√ß√£o, contrato (API). An√°lise est√°tica de c√≥digo e cobertura (SonarQube). ' },
                    { text: '7 Linguagens de programa√ß√£o Java' },
                    { text: '8 Desenvolvimento seguro. DevSecOps' }
                ],
                engenhariaDados: [
                    { text: '1 Bancos de Dados. Relacionais: Oracle e Microsoft SQL Server. N√£o relacionais (NoSQL): Elasticsearch e MongoDB. Modelagens de dados. Relacional, multidimensional, nosql. SQL (Procedural Language / Structured Query Language).' },
                    { text: '2 Arquitetura de Intelig√™ncia de Neg√≥cio. DataWarehouse, DataMart, DataLake, DataMesh. ' },
                    { text: '3 Conectores e integra√ß√£o com fontes de dados. APIs REST/SOAP, Web Services. Arquivos planos (CSV, JSON, XML, Parquet). Mensageria e eventos. Controle de Integridade de dados. Seguran√ßa na capta√ß√£o de dados (TLS, autentica√ß√£o, mascaramento). Estrat√©gias de buffer e ordena√ß√£o' },
                    { text: '4 Fluxo de manipula√ß√£o de dados. ETL. Pepiline de dados: versionamento, logging e auditoria, toler√¢ncia a falhas, retries e checkpoints, Integra√ß√£o com CI/CD' },
                    { text: '5 Governan√ßa e Qualidade de Dados. Linhagem e cataloga√ß√£o. Qualidade de dados: valida√ß√£o, conformidade, deduplica√ß√£o. Metadados, gloss√°rios de dados, pol√≠ticas de acesso.' },
                    { text: '6 Integra√ß√£o com nuvem. Servi√ßos gerenciados (Azure Data Factory, Azure Service Fabric, Azure Databricks). Armazenamento (S3, Azure Blob, GCS). Integra√ß√£o com servi√ßos de IA e an√°lise.' }
                ],
                infraestruturaTI: [
                    { text: '1 Arquitetura Infraestrutura de TI. Topologias f√≠sicas e l√≥gicas de redes corporativas. Arquiteturas de data center (on-premises, cloud, h√≠brida). Infraestrutura hiperconvergente. Arquitetura escal√°vel, tolerante a falhas e redundante' },
                    { text: '2 Redes e Comunica√ß√£o de Dados. Protocolos de comunica√ß√£o de dados TCP, UDP, SCTP, ARP, TLS, SSL, OSPF, BGP, DNS, DHCP, ICMP, FTP, SFTP, SSH, HTTP, HTTPS, SMTP, IMAP, POP3. VLANs, STP, QoS, roteamento e switching em ambientes corporativos. SDN (Software Defined Networking) e redes program√°veis. Wireless corporativo: Wi-Fi 6, WPA3, roaming, mesh.' },
                    { text: '3 Sistemas Operacionais e Servidores. Administra√ß√£o avan√ßada de Linux e Windows Server. Virtualiza√ß√£o (KVM, VMware vSphere/ESXi. Servi√ßos de diret√≥rio (Active Directory, LDAP). Gerenciamento de usu√°rios, permiss√µes, GPOs.' },
                    { text: '4 Armazenamento e Backup. SAN, NAS, DAS: arquiteturas e protocolos (iSCSI, NFS, SMB). RAID (n√≠veis, vantagens, hot-spare). Backup e recupera√ß√£o: RPO, RTO, snapshots, deduplica√ß√£o. Oracle RMAN' },
                    { text: '5 Seguran√ßa de Infraestrutura. Hardening de servidores e dispositivos de rede. Firewalls (NGFW), IDS/IPS, proxies, NAC. VPNs, SSL/TLS, PKI, criptografia de dados. Segmenta√ß√£o de rede e zonas de seguran√ßa.' },
                    { text: '6 Monitoramento, Gest√£o e Automa√ß√£o. Ferramentas: Zabbix, New Relic e Grafana. Ger√™ncia de capacidade, disponibilidade e desempenho. ITIL v4: incidentes, problemas, mudan√ßas e configura√ß√µes (CMDB). Scripts e automa√ß√£o com PowerShell, Bash e Puppet. ' },
                    { text: '7 Alta Disponibilidade e Recupera√ß√£o de Desastres. Clusters de alta disponibilidade e balanceamento de carga. Failover, heartbeat, fencing. Planos de continuidade de neg√≥cios e testes de DR' }
                ]
            },
            'TCE_RJ': {
                gestaoTI: [
                    { text: 'Gest√£o de TI para TCE RJ - ITIL e COBIT' }
                ],
                segurancaInformacao: [
                    { text: 'Seguran√ßa da Informa√ß√£o em Tribunais de Contas' }
                ]
            },
            'TCE_SC': {
                gestaoTI: [
                    { text: 'Gest√£o de TI para TCE SC - ITIL e COBIT' }
                ],
                segurancaInformacao: [
                    { text: 'Seguran√ßa da Informa√ß√£o em Tribunais de Contas' }
                ]
            }
        };

        // Sistema de progresso
        let progressData = {};
        let linkData = {};
        let isOnline = false;
        let currentState = null;
        
        // Sistema de ciclo redondo
        let studyCycleData = {
            currentDay: 1,
            selectedDisciplines: [],
            startDate: null,
            completedDays: {},
            currentRound: 1,
            cycleHistory: []
        };

        // Fun√ß√£o para fazer requisi√ß√µes para o Google Apps Script
        async function makeRequest(action, data = {}) {
            try {
                const response = await fetch(SCRIPT_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        action: action,
                        data: data
                    })
                });
                
                const result = await response.json();
                isOnline = true;
                updateSyncStatus();
                return result;
            } catch (error) {
                console.error('Erro na requisi√ß√£o:', error);
                isOnline = false;
                updateSyncStatus();
                return loadFromLocalStorage(action);
            }
        }

        // Fallback para localStorage
        function loadFromLocalStorage(action) {
            if (action === 'getProgress') {
                const storedProgress = JSON.parse(localStorage.getItem('progressData')) || {};
                const storedLinkData = JSON.parse(localStorage.getItem('linkData')) || {};
                const storedStudyCycle = JSON.parse(localStorage.getItem('studyCycleData')) || studyCycleData;
                
                return {
                    success: true,
                    progressData: storedProgress,
                    linkData: storedLinkData,
                    studyCycleData: storedStudyCycle
                };
            }
            return { success: false };
        }

        // Atualizar status de sincroniza√ß√£o
        function updateSyncStatus() {
            const syncStatus = document.getElementById('syncStatus');
            if (isOnline) {
                syncStatus.textContent = 'Online';
                syncStatus.className = 'sync-status online';
            } else {
                syncStatus.textContent = 'Offline';
                syncStatus.className = 'sync-status offline';
            }
        }

        // Fun√ß√£o para salvar progresso
        async function saveProgress() {
            // Salva localmente como fallback
            localStorage.setItem('progressData', JSON.stringify(progressData));
            localStorage.setItem('linkData', JSON.stringify(linkData));
            localStorage.setItem('studyCycleData', JSON.stringify(studyCycleData));
            
            // Tenta salvar no servidor
            try {
                const result = await makeRequest('saveProgress', {
                    progressData: progressData,
                    linkData: linkData,
                    studyCycleData: studyCycleData
                });
                
                if (result.success) {
                    console.log('Dados salvos no servidor');
                } else {
                    console.warn('N√£o foi poss√≠vel salvar no servidor, usando localStorage');
                }
            } catch (error) {
                console.warn('Servidor offline, dados salvos localmente');
            }
            
            updateProgressDisplay();
        }

        // Fun√ß√£o para carregar progresso
        async function loadProgress() {
            try {
                const result = await makeRequest('getProgress');
                
                if (result.success) {
                    progressData = result.progressData || {};
                    linkData = result.linkData || {};
                    studyCycleData = result.studyCycleData || studyCycleData;
                } else {
                    // Fallback para localStorage
                    progressData = JSON.parse(localStorage.getItem('progressData')) || {};
                    linkData = JSON.parse(localStorage.getItem('linkData')) || {};
                    studyCycleData = JSON.parse(localStorage.getItem('studyCycleData')) || studyCycleData;
                }
            } catch (error) {
                console.warn('Erro ao carregar do servidor, usando localStorage');
                progressData = JSON.parse(localStorage.getItem('progressData')) || {};
                linkData = JSON.parse(localStorage.getItem('linkData')) || {};
                studyCycleData = JSON.parse(localStorage.getItem('studyCycleData')) || studyCycleData;
            }
            
            updateProgressDisplay();
            
            // Mostra o ciclo se estiver ativo
            if (studyCycleData.selectedDisciplines && studyCycleData.selectedDisciplines.length > 0) {
                document.getElementById('studyCycleContainer').style.display = 'block';
                document.getElementById('disciplineSelection').style.display = 'none';
                document.getElementById('currentDayCard').style.display = 'block';
                updateRoundCycleDisplay();
            }
        }

        // Fun√ß√£o para atualizar o display de progresso
        function updateProgressDisplay() {
            let totalItems = 0;
            let completedItems = 0;
            
            // Calcula progresso geral
            for (const org in progressData) {
                for (const category in progressData[org]) {
                    for (const item in progressData[org][category]) {
                        totalItems++;
                        if (progressData[org][category][item]) {
                            completedItems++;
                        }
                    }
                }
            }
            
            // Atualiza barra de progresso geral
            const progressPercent = totalItems > 0 ? (completedItems / totalItems) * 100 : 0;
            document.getElementById('overallProgress').style.width = `${progressPercent}%`;
            document.getElementById('progressText').textContent = `${Math.round(progressPercent)}% conclu√≠do (${completedItems}/${totalItems} itens)`;
            
            // Atualiza progresso por categoria
            const categories = [
                'gestaoTI', 'contratacaoTI', 'inteligenciaArtificial', 
                'computacaoNuvem', 'segurancaInformacao', 'engenhariaSoftware',
                'engenhariaDados', 'infraestruturaTI'
            ];
            
            const currentOrg = document.getElementById('stateName').textContent;
            if (currentOrg && progressData[currentOrg]) {
                categories.forEach(category => {
                    const categoryData = progressData[currentOrg][category] || {};
                    const categoryItems = Object.keys(categoryData).length;
                    const completedCategoryItems = Object.values(categoryData).filter(val => val).length;
                    
                    const progressElement = document.getElementById(`${category}Progress`);
                    if (progressElement) {
                        progressElement.textContent = `${completedCategoryItems}/${categoryItems}`;
                    }
                });
            }
        }
        
        // Fun√ß√£o para criar um item de conte√∫do
        function createContentItem(text, org, category, index) {
            const itemId = `${org}-${category}-${index}`;
            const isCompleted = progressData[org] && progressData[org][category] && progressData[org][category][itemId];
            const itemLink = linkData[itemId] || null;
            
            const itemDiv = document.createElement('div');
            itemDiv.className = `content-item ${isCompleted ? 'completed' : ''}`;
            itemDiv.dataset.itemId = itemId;
            itemDiv.dataset.text = text.toLowerCase();
            itemDiv.dataset.category = category;
            
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.className = 'content-checkbox';
            checkbox.checked = isCompleted;
            
            checkbox.addEventListener('change', function() {
                // Atualiza dados de progresso
                if (!progressData[org]) progressData[org] = {};
                if (!progressData[org][category]) progressData[org][category] = {};
                progressData[org][category][itemId] = this.checked;
                
                // Atualiza visual
                itemDiv.classList.toggle('completed', this.checked);
                
                saveProgress();
            });
            
            const textSpan = document.createElement('span');
            textSpan.className = 'content-text';
            textSpan.textContent = text;
            
            itemDiv.appendChild(checkbox);
            itemDiv.appendChild(textSpan);
            
            // Container para a√ß√µes
            const actionsDiv = document.createElement('div');
            actionsDiv.className = 'content-actions';
            
            // Link para resumo
            if (itemLink) {
                const link = document.createElement('a');
                link.href = itemLink;
                link.className = 'content-link';
                link.textContent = 'Ver Resumo';
                link.target = '_blank';
                actionsDiv.appendChild(link);
                
                // Bot√£o para editar link
                const editBtn = document.createElement('button');
                editBtn.className = 'edit-link-btn';
                editBtn.textContent = 'Editar';
                editBtn.addEventListener('click', function() {
                    showLinkInput(itemId, itemDiv, true);
                });
                actionsDiv.appendChild(editBtn);
            } else {
                const addLinkBtn = document.createElement('button');
                addLinkBtn.className = 'add-link-btn';
                addLinkBtn.textContent = '+ Link';
                addLinkBtn.addEventListener('click', function() {
                    showLinkInput(itemId, itemDiv, false);
                });
                actionsDiv.appendChild(addLinkBtn);
            }
            
            itemDiv.appendChild(actionsDiv);
            
            // Container para input de link
            const linkInputContainer = document.createElement('div');
            linkInputContainer.className = 'link-input-container';
            
            const linkInput = document.createElement('input');
            linkInput.type = 'text';
            linkInput.className = 'link-input';
            linkInput.placeholder = 'Cole aqui o link para seu resumo...';
            
            const linkActions = document.createElement('div');
            linkActions.className = 'link-actions';
            
            const saveBtn = document.createElement('button');
            saveBtn.className = 'link-save';
            saveBtn.textContent = 'Salvar';
            
            const cancelBtn = document.createElement('button');
            cancelBtn.className = 'link-cancel';
            cancelBtn.textContent = 'Cancelar';
            
            const removeBtn = document.createElement('button');
            removeBtn.className = 'link-remove';
            removeBtn.textContent = 'Remover';
            
            linkActions.appendChild(saveBtn);
            linkActions.appendChild(cancelBtn);
            linkActions.appendChild(removeBtn);
            
            linkInputContainer.appendChild(linkInput);
            linkInputContainer.appendChild(linkActions);
            
            itemDiv.appendChild(linkInputContainer);
            
            return itemDiv;
        }
        
        // Fun√ß√£o para mostrar input de link
        function showLinkInput(itemId, itemDiv, isEditing) {
            const linkInputContainer = itemDiv.querySelector('.link-input-container');
            const actionsDiv = itemDiv.querySelector('.content-actions');
            
            actionsDiv.style.display = 'none';
            linkInputContainer.style.display = 'block';
            
            const linkInput = linkInputContainer.querySelector('.link-input');
            const saveBtn = linkInputContainer.querySelector('.link-save');
            const cancelBtn = linkInputContainer.querySelector('.link-cancel');
            const removeBtn = linkInputContainer.querySelector('.link-remove');
            
            // Preenche o input se estiver editando
            if (isEditing) {
                linkInput.value = linkData[itemId] || '';
                removeBtn.style.display = 'block';
            } else {
                linkInput.value = '';
                removeBtn.style.display = 'none';
            }
            
            // Foca no input
            linkInput.focus();
            
            // Salvar link
            saveBtn.onclick = function() {
                const url = linkInput.value.trim();
                if (url) {
                    linkData[itemId] = url;
                    saveProgress();
                    
                    // Recria o item para atualizar a interface
                    const org = itemId.split('-')[0];
                    const category = itemId.split('-')[1];
                    const index = itemId.split('-')[2];
                    const text = itemDiv.querySelector('.content-text').textContent;
                    
                    const newItem = createContentItem(text, org, category, index);
                    itemDiv.parentNode.replaceChild(newItem, itemDiv);
                }
            };
            
            // Remover link
            removeBtn.onclick = function() {
                delete linkData[itemId];
                saveProgress();
                
                // Recria o item para atualizar a interface
                const org = itemId.split('-')[0];
                const category = itemId.split('-')[1];
                const index = itemId.split('-')[2];
                const text = itemDiv.querySelector('.content-text').textContent;
                
                const newItem = createContentItem(text, org, category, index);
                itemDiv.parentNode.replaceChild(newItem, itemDiv);
            };
            
            // Cancelar
            cancelBtn.onclick = function() {
                linkInputContainer.style.display = 'none';
                actionsDiv.style.display = 'flex';
            };
        }
        
        // Filtros
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Atualiza bot√µes ativos
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                const filter = this.dataset.filter;
                filterContentItems(filter);
            });
        });
        
        function filterContentItems(filter) {
            const allItems = document.querySelectorAll('.content-item');
            
            allItems.forEach(item => {
                const isCompleted = item.classList.contains('completed');
                
                switch(filter) {
                    case 'all':
                        item.style.display = 'flex';
                        break;
                    case 'pending':
                        item.style.display = isCompleted ? 'none' : 'flex';
                        break;
                    case 'completed':
                        item.style.display = isCompleted ? 'flex' : 'none';
                        break;
                }
            });
        }
        
        // Fun√ß√£o para carregar conte√∫do de um √≥rg√£o
        function loadStateContent(stateId, stateName) {
            currentState = stateId;
            
            // Carrega os dados mais recentes
            loadProgress();
            
            // Atualiza o nome do √≥rg√£o
            document.getElementById('stateName').textContent = stateName;
            
            // Mostra as se√ß√µes de disciplinas
            document.querySelector('.state-categories').style.display = 'grid';
            
            // Limpa links anteriores
            const categories = [
                'gestaoTI', 'contratacaoTI', 'inteligenciaArtificial', 
                'computacaoNuvem', 'segurancaInformacao', 'engenhariaSoftware',
                'engenhariaDados', 'infraestruturaTI'
            ];
            
            categories.forEach(category => {
                const element = document.getElementById(category + 'Links');
                if (element) {
                    element.innerHTML = '';
                }
            });
            
            // Verifica se h√° dados para este √≥rg√£o
            if (stateLinks[stateId]) {
                const links = stateLinks[stateId];
                
                // Adiciona conte√∫do para cada categoria
                categories.forEach(category => {
                    const elementId = category + 'Links';
                    const element = document.getElementById(elementId);
                    
                    if (element && links[category] && links[category].length > 0) {
                        links[category].forEach((item, index) => {
                            const contentItem = createContentItem(item.text, stateName, category, index);
                            element.appendChild(contentItem);
                        });
                    } else if (element) {
                        element.innerHTML = '<p>Nenhum conte√∫do dispon√≠vel no momento</p>';
                    }
                });
            } else {
                // Se n√£o houver dados para o √≥rg√£o
                categories.forEach(category => {
                    const element = document.getElementById(category + 'Links');
                    if (element) {
                        element.innerHTML = '<p>Dados n√£o dispon√≠veis para este √≥rg√£o</p>';
                    }
                });
            }
            
            // Mostra a se√ß√£o de informa√ß√µes
            document.getElementById('stateInfo').style.display = 'block';
            
            // Atualiza display de progresso
            updateProgressDisplay();
            
            // Rola a p√°gina at√© a se√ß√£o de informa√ß√µes
            document.getElementById('stateInfo').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Adiciona eventos de clique para cada bot√£o de √≥rg√£o
        document.querySelectorAll('.state-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const stateId = this.getAttribute('data-state');
                const stateName = this.textContent;
                loadStateContent(stateId, stateName);
            });
        });
        
        // Fun√ß√£o de pesquisa aprimorada
        function performSearch(searchTerm, filterType) {
            searchTerm = searchTerm.toLowerCase().trim();
            
            if (!searchTerm) {
                // Se n√£o h√° termo de pesquisa, mostra todos os √≥rg√£os
                document.querySelectorAll('.state-btn').forEach(btn => {
                    btn.style.display = 'block';
                });
                
                // Se j√° tem um √≥rg√£o selecionado, mant√©m as disciplinas vis√≠veis
                if (currentState) {
                    document.querySelectorAll('.category').forEach(category => {
                        category.style.display = 'block';
                    });
                    document.querySelectorAll('.content-item').forEach(item => {
                        item.style.display = 'flex';
                    });
                }
                return;
            }
            
            switch(filterType) {
                case 'orgao':
                    // Filtra apenas √≥rg√£os
                    document.querySelectorAll('.state-btn').forEach(btn => {
                        const stateName = btn.textContent.toLowerCase();
                        if (stateName.includes(searchTerm)) {
                            btn.style.display = 'block';
                        } else {
                            btn.style.display = 'none';
                        }
                    });
                    break;
                    
                case 'disciplina':
                    // Filtra disciplinas dentro do √≥rg√£o atual
                    if (currentState) {
                        document.querySelectorAll('.category').forEach(category => {
                            const disciplinaName = category.getAttribute('data-disciplina').toLowerCase();
                            if (disciplinaName.includes(searchTerm)) {
                                category.style.display = 'block';
                            } else {
                                category.style.display = 'none';
                            }
                        });
                    } else {
                        // Se n√£o h√° √≥rg√£o selecionado, pesquisa em todos os √≥rg√£os
                        let found = false;
                        document.querySelectorAll('.state-btn').forEach(btn => {
                            const stateId = btn.getAttribute('data-state');
                            if (stateLinks[stateId]) {
                                for (const category in stateLinks[stateId]) {
                                    const categoryName = getCategoryDisplayName(category).toLowerCase();
                                    if (categoryName.includes(searchTerm)) {
                                        btn.style.display = 'block';
                                        found = true;
                                        break;
                                    }
                                }
                            }
                        });
                    }
                    break;
                    
                case 'conteudo':
                    // Filtra conte√∫dos espec√≠ficos
                    if (currentState) {
                        document.querySelectorAll('.content-item').forEach(item => {
                            const itemText = item.dataset.text;
                            if (itemText.includes(searchTerm)) {
                                item.style.display = 'flex';
                            } else {
                                item.style.display = 'none';
                            }
                        });
                    }
                    break;
                    
                case 'all':
                default:
                    // Pesquisa em tudo
                    let foundInOrgao = false;
                    
                    // Primeiro pesquisa nos √≥rg√£os
                    document.querySelectorAll('.state-btn').forEach(btn => {
                        const stateName = btn.textContent.toLowerCase();
                        const stateId = btn.getAttribute('data-state');
                        
                        if (stateName.includes(searchTerm)) {
                            btn.style.display = 'block';
                            foundInOrgao = true;
                        } else if (stateLinks[stateId]) {
                            // Pesquisa nas disciplinas do √≥rg√£o
                            let foundInDisciplina = false;
                            for (const category in stateLinks[stateId]) {
                                const categoryName = getCategoryDisplayName(category).toLowerCase();
                                if (categoryName.includes(searchTerm)) {
                                    btn.style.display = 'block';
                                    foundInOrgao = true;
                                    foundInDisciplina = true;
                                    break;
                                }
                            }
                            
                            if (!foundInDisciplina) {
                                btn.style.display = 'none';
                            }
                        } else {
                            btn.style.display = 'none';
                        }
                    });
                    
                    // Se h√° um √≥rg√£o selecionado, pesquisa tamb√©m nos conte√∫dos
                    if (currentState) {
                        document.querySelectorAll('.category').forEach(category => {
                            const disciplinaName = category.getAttribute('data-disciplina').toLowerCase();
                            if (disciplinaName.includes(searchTerm)) {
                                category.style.display = 'block';
                            } else {
                                // Verifica se h√° conte√∫dos que correspondem
                                const items = category.querySelectorAll('.content-item');
                                let hasMatchingItems = false;
                                
                                items.forEach(item => {
                                    const itemText = item.dataset.text;
                                    if (itemText.includes(searchTerm)) {
                                        item.style.display = 'flex';
                                        hasMatchingItems = true;
                                    } else {
                                        item.style.display = 'none';
                                    }
                                });
                                
                                category.style.display = hasMatchingItems ? 'block' : 'none';
                            }
                        });
                    }
                    break;
            }
        }
        
        // Fun√ß√£o auxiliar para obter o nome de exibi√ß√£o da categoria
        function getCategoryDisplayName(categoryKey) {
            const categoryMap = {
                'gestaoTI': 'GEST√ÉO DE TI',
                'contratacaoTI': 'CONTRATA√á√ïES DE TI',
                'inteligenciaArtificial': 'INTELIG√äNCIA ARTIFICIAL',
                'computacaoNuvem': 'COMPUTA√á√ÉO EM NUVEM',
                'segurancaInformacao': 'SEGURAN√áA DA INFORMA√á√ÉO',
                'engenhariaSoftware': 'ENGENHARIA DE SOFTWARE',
                'engenhariaDados': 'ENGENHARIA DE DADOS',
                'infraestruturaTI': 'INFRAESTRUTURA DE TI'
            };
            
            return categoryMap[categoryKey] || categoryKey;
        }
        
        // Event listener para a pesquisa
        document.querySelector('.search-input').addEventListener('input', function(e) {
            const searchTerm = e.target.value;
            const filterType = document.querySelector('input[name="search-filter"]:checked').value;
            performSearch(searchTerm, filterType);
        });
        
        // Event listener para os filtros de pesquisa
        document.querySelectorAll('input[name="search-filter"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const searchTerm = document.querySelector('.search-input').value;
                performSearch(searchTerm, this.value);
            });
        });

        // Bot√£o de sincroniza√ß√£o manual
        document.getElementById('syncButton').addEventListener('click', async function() {
            await loadProgress();
            alert('Dados sincronizados!');
        });
        
        // ========== SISTEMA DE CICLO REDONDO ==========
        
        // Iniciar ciclo de estudos
        document.getElementById('startCycleBtn').addEventListener('click', function() {
            const currentOrg = document.getElementById('stateName').textContent;
            if (!currentOrg || currentOrg === '√ìrg√£o') {
                alert('Selecione um √≥rg√£o primeiro!');
                return;
            }
            
            // Mostra a sele√ß√£o de disciplinas
            document.getElementById('studyCycleContainer').style.display = 'block';
            document.getElementById('disciplineSelection').style.display = 'block';
            document.getElementById('currentDayCard').style.display = 'none';
        });

        // Confirmar disciplinas selecionadas
        document.getElementById('confirmDisciplinesBtn').addEventListener('click', function() {
            const selectedCheckboxes = document.querySelectorAll('.discipline-checkboxes input:checked');
            
            if (selectedCheckboxes.length === 0) {
                alert('Selecione pelo menos uma disciplina!');
                return;
            }
            
            studyCycleData.selectedDisciplines = Array.from(selectedCheckboxes).map(cb => cb.value);
            studyCycleData.currentDay = 1;
            studyCycleData.startDate = new Date();
            studyCycleData.completedDays = {};
            studyCycleData.currentRound = 1;
            
            // Esconde a sele√ß√£o e mostra o ciclo
            document.getElementById('disciplineSelection').style.display = 'none';
            document.getElementById('currentDayCard').style.display = 'block';
            
            updateRoundCycleDisplay();
            saveProgress();
            
            // Rola at√© o ciclo de estudos
            document.getElementById('studyCycleContainer').scrollIntoView({ behavior: 'smooth' });
        });

        // Atualizar display do ciclo redondo
        function updateRoundCycleDisplay() {
            if (studyCycleData.selectedDisciplines.length === 0) return;
            
            const currentDisciplineKey = studyCycleData.selectedDisciplines[
                (studyCycleData.currentDay - 1) % studyCycleData.selectedDisciplines.length
            ];
            const currentDisciplineName = getCategoryDisplayName(currentDisciplineKey);
            
            document.getElementById('currentDisciplineName').textContent = currentDisciplineName;
            document.getElementById('currentDayNumber').textContent = studyCycleData.currentDay;
            document.getElementById('totalDays').textContent = studyCycleData.selectedDisciplines.length;
            
            // Calcula data do ciclo
            const cycleDate = new Date(studyCycleData.startDate);
            cycleDate.setDate(cycleDate.getDate() + studyCycleData.currentDay - 1);
            document.getElementById('cycleDate').textContent = cycleDate.toLocaleDateString('pt-BR');

            // Atualiza estat√≠sticas
            const completedDaysCount = Object.keys(studyCycleData.completedDays).length;
            document.getElementById('completedDays').textContent = completedDaysCount;
            document.getElementById('cycleRound').textContent = studyCycleData.currentRound;
            document.getElementById('totalCompleted').textContent = completedDaysCount + (studyCycleData.currentRound - 1) * studyCycleData.selectedDisciplines.length;

            // Atualiza progresso
            const progressPercent = (completedDaysCount / studyCycleData.selectedDisciplines.length) * 100;
            document.getElementById('cycleProgressFill').style.width = `${progressPercent}%`;
            document.getElementById('cycleProgressText').textContent = `${Math.round(progressPercent)}%`;

            // Mostra/oculta mensagem de conclus√£o
            const completionMessage = document.getElementById('completionMessage');
            if (studyCycleData.currentDay === 1 && studyCycleData.currentRound > 1) {
                completionMessage.style.display = 'block';
                setTimeout(() => {
                    completionMessage.style.display = 'none';
                }, 5000);
            } else {
                completionMessage.style.display = 'none';
            }
        }

        // Marcar dia como conclu√≠do e avan√ßar
        document.getElementById('markCompleteBtn').addEventListener('click', function() {
            if (studyCycleData.selectedDisciplines.length === 0) return;
            
            const currentDisciplineKey = studyCycleData.selectedDisciplines[
                (studyCycleData.currentDay - 1) % studyCycleData.selectedDisciplines.length
            ];
            
            // Marca o dia como conclu√≠do
            studyCycleData.completedDays[studyCycleData.currentDay] = {
                date: new Date(),
                discipline: currentDisciplineKey
            };

            // Avan√ßa para o pr√≥ximo dia
            studyCycleData.currentDay++;

            // Se completou todos os dias, reinicia o ciclo (nova rodada)
            if (studyCycleData.currentDay > studyCycleData.selectedDisciplines.length) {
                studyCycleData.currentDay = 1;
                studyCycleData.currentRound++;
                studyCycleData.completedDays = {};
                
                // Adiciona ao hist√≥rico
                studyCycleData.cycleHistory.push({
                    round: studyCycleData.currentRound - 1,
                    endDate: new Date()
                });
            }

            updateRoundCycleDisplay();
            saveProgress();
        });

        // Voltar para o dia anterior
        document.getElementById('prevDayBtn').addEventListener('click', function() {
            if (studyCycleData.selectedDisciplines.length === 0) return;
            
            if (studyCycleData.currentDay > 1) {
                studyCycleData.currentDay--;
                // Remove o dia do registro de conclu√≠dos se existir
                delete studyCycleData.completedDays[studyCycleData.currentDay];
            } else {
                // Se est√° no dia 1, vai para o √∫ltimo dia da rodada anterior
                if (studyCycleData.currentRound > 1) {
                    studyCycleData.currentRound--;
                    studyCycleData.currentDay = studyCycleData.selectedDisciplines.length;
                    // Recupera os dias conclu√≠dos da rodada anterior (simula√ß√£o)
                    for (let i = 1; i < studyCycleData.currentDay; i++) {
                        studyCycleData.completedDays[i] = {
                            date: new Date(),
                            discipline: studyCycleData.selectedDisciplines[i - 1]
                        };
                    }
                }
            }
            
            updateRoundCycleDisplay();
            saveProgress();
        });

        // Reiniciar ciclo
        document.getElementById('resetCycleBtn').addEventListener('click', function() {
            if (confirm('Tem certeza que deseja reiniciar o ciclo de estudos? Todo o progresso ser√° perdido.')) {
                studyCycleData.currentDay = 1;
                studyCycleData.currentRound = 1;
                studyCycleData.completedDays = {};
                studyCycleData.startDate = new Date();
                studyCycleData.cycleHistory = [];
                
                // Mostra novamente a sele√ß√£o de disciplinas
                document.getElementById('disciplineSelection').style.display = 'block';
                document.getElementById('currentDayCard').style.display = 'none';
                
                updateRoundCycleDisplay();
                saveProgress();
            }
        });
        
        // Carrega os dados quando a p√°gina inicia
        document.addEventListener('DOMContentLoaded', async function() {
            await loadProgress();
            updateProgressDisplay();
            updateSyncStatus();
        });
    </script>
</body>
</html>
